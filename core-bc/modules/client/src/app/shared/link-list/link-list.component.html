<div *ngIf="links" >
  <form #theForm="ngForm" [formGroup]="formGroup" (ngSubmit)="save()"
        novalidate>

    <div class="row" formArrayName="links">

      <div *ngFor="let link of links.controls; let i=index" [formGroupName]="i">

        <div class="col c4" *ngIf="(loggedIn) || (!loggedIn && !link.get('privateContent').value)">
          <div class="col-inner">
            <a [href]="link.get('url').value" class="link-box" *ngIf="!editingLink(i)">
              <md-icon class="link-box-icon" aria-hidden="true">file_download</md-icon>

              <span class="link-box-label">{{link.get('label').value}}</span>
            </a>

            <md-card *ngIf="editingLink(i) && admin">
              <md-card-content>
                <md-input-container>
                  <input placeholder="Namn" mdInput formControlName="label"/>
                </md-input-container>

                <md-input-container>
                  <input placeholder="URL" mdInput formControlName="url"/>
                </md-input-container>

                <div class="checkbox-container">
                  <md-checkbox align="end" formControlName="privateContent">Visa bara f√∂r inloggade</md-checkbox>
                </div>


              </md-card-content>
            </md-card>

            <md-toolbar class="edit-toolbar" *ngIf="admin && getShowContentEdit()">
              <a href="#" class="edit-toolbar-item" mdTooltip="Redigera" *ngIf="!editingLink(i)"
                 (click)="editLink(i); false">
                <md-icon>edit</md-icon>
              </a>

              <a href="#" class="edit-toolbar-item" mdTooltip="Spara" *ngIf="editingLink(i)" (click)="saveLink(i); false">
                <md-icon>save</md-icon>
              </a>

              <a href="#" class="edit-toolbar-item" *ngIf="editingLink(i)" (click)="cancelLink(i); false">
                Avbryt
              </a>
            </md-toolbar>


          </div>
        </div>
      </div>
    </div>



  </form>
</div>
